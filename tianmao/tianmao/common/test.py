import requests


def getCookie():
    a = ''
    dict = {"_hvn_login": "0", "_tb_token_": "758e97a34d7e9", "cookie2": "10de8e1c711b2268d66f158a49f9e367", "csg": "594c62b8", "t": "f2d0ede09273d038bc7e26a024ebecbd", "lc": "VyoFjLv40wbopTlWUKnWCD8%3D", "lid": "%E8%91%AC%E4%BB%AA%E4%B8%BF%E5%A4%9C%E7%A5%9E%E6%9C%88", "log": "lty=Tmc%3D", "havana_tgc": "eyJjcmVhdGVUaW1lIjoxNTY4Nzc3NzAyOTAxLCJsYW5nIjoiemhfQ04iLCJwYXRpYWxUZ2MiOnsiYWNjSW5mb3MiOnsiMCI6eyJhY2Nlc3NUeXBlIjoxLCJtZW1iZXJJZCI6MjY0NjU3NDAzNiwidGd0SWQiOiIxdnU5WkVYM3dHTmdWV0pfc01ya0JmdyJ9fX19", "_cc_": "WqG3DMC9EA%3D%3D", "_l_g_": "Ug%3D%3D", "_nk_": "%5Cu846C%5Cu4EEA%5Cu4E3F%5Cu591C%5Cu795E%5Cu6708", "cookie1": "BxpRR3m3mq6u2SKR8tMIAV5PbfT0Mkqa7hIMcGbyJO8%3D", "cookie17": "UU6lS5IHpNO1Zw%3D%3D", "dnk": "%5Cu846C%5Cu4EEA%5Cu4E3F%5Cu591C%5Cu795E%5Cu6708", "existShop": "MTU2ODc3NzcwMg%3D%3D", "lgc": "%5Cu846C%5Cu4EEA%5Cu4E3F%5Cu591C%5Cu795E%5Cu6708", "sg": "%E6%9C%886c", "skt": "3952696d2019456a", "tg": "0", "tracknick": "%5Cu846C%5Cu4EEA%5Cu4E3F%5Cu591C%5Cu795E%5Cu6708", "uc1": "cookie14=UoTaECEnvlU5mQ%3D%3D&cookie16=U%2BGCWk%2F74Mx5tgzv3dWpnhjPaQ%3D%3D&cookie21=Vq8l%2BKCLjhS4UhJVbhgU&pas=0&existShop=false&cookie15=WqG3DMC9VAQiUQ%3D%3D&tag=8&lng=zh_CN", "uc3": "lg2=URm48syIIVrSKA%3D%3D&nk2=tzejKGxa%2FgjcE9Gg&vt3=F8dByuKxoyUMbL8AENw%3D&id2=UU6lS5IHpNO1Zw%3D%3D", "uc4": "id4=0%40U2xo%2B4EAVHijItFSb40x6HZpwHko&nk4=0%40tUQ6%2FECahntTXqHnI5ioot2jxO%2Bvjs8%3D", "unb": "2646574036", "XSRF-TOKEN": "ac4f640b-3e64-488e-aba8-941d67611be7"}
    for i in dict:
        a += str(i)+'='+str(dict[i])+'; '
    cookie = a[:-2]
    return cookie

cookie = getCookie()
print(cookie)
headers = {
            'referer': 'https://list.tmall.com/search_product.htm?q=%C6%A1%BE%C6&type=p&spm=a220m.8599659.a2227oh.d100&from=mallfp..m_1_suggest&searchType=default&sort=d',
            'user-agent': 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1',
            "Connection": "close",
            'cookie': 'sm4=110100; cna=l9oDFcy6VQ4CAd6AqijwI13O; tk_trace=1; t=68aeed5a9ead7edb2d26b8d916cdf5be; _tb_token_=3b5fe47538e69; cookie2=1735de9c85557f9f42e1df3633d89f42; _med=dw:1366&dh:768&pw:1366&ph:768&ist:0; dnk=%5Cu846C%5Cu4EEA%5Cu4E3F%5Cu591C%5Cu795E%5Cu6708; tracknick=%5Cu846C%5Cu4EEA%5Cu4E3F%5Cu591C%5Cu795E%5Cu6708; lid=%E8%91%AC%E4%BB%AA%E4%B8%BF%E5%A4%9C%E7%A5%9E%E6%9C%88; uc4=nk4=0%40tUQ6%2FECahntTXqHnI5ioot2jxOlREew%3D&id4=0%40U2xo%2B4EAVHijItFSb40x6HZvkQAW; lgc=%5Cu846C%5Cu4EEA%5Cu4E3F%5Cu591C%5Cu795E%5Cu6708; enc=mgDx%2FG4LBa6Vh34myIUWRcXFDcku2yYoVmi5LRm6AqLVjcbsMLrPyszjHfBmSXuSEukb8S%2Bo%2Ffv6taJmBoY4pg%3D%3D; cq=ccp%3D0; otherx=e%3D1%26p%3D*%26s%3D0%26c%3D0%26f%3D0%26g%3D0%26t%3D0; swfstore=209459; x=__ll%3D-1%26_ato%3D0; _uab_collina=156877667696726520994751; res=scroll%3A1349*5531-client%3A1349*625-offset%3A1349*5531-screen%3A1366*768; pnm_cku822=098%23E1hvuQvUvbpvUvCkvvvvvjiPRFLwzjnbRFcWljljPmPOtj1hRFLvQjnjPLqysjtURphvChCvvvvCvpvVphhvvvvvKphv8hCvvvvvvhCvphvZ7pvvpFnvpCBXvvC2p6CvHHyvvh84phvZ7pvvpiuivpvUphvhrojveSJEvpvVpyUUCE%2BfmphvLhh6wQmFdcZIfvc6D40OjoE1paFZ5Cl0p5nC%2BnezrmphwhKn3feAOHHzLwexRdIAcVvHfwmK5eUpEZ8aiLyubhv3xw0tiCH%2BmB%2B%2BaNpPvpvhvv2MMTwCvvBvpvpZ; whl=-1%260%260%260; _m_h5_tk=b64abe9f69798e65a48e5518f2ce3209_1568797138854; _m_h5_tk_enc=7ad3e1ed6582abc7ee2fe8664927d1c9; uc1=lng=zh_CN&cookie21=UIHiLt3xThH8t7YQoFNq&existShop=false&cookie16=Vq8l%2BKCLySLZMFWHxqs8fwqnEw%3D%3D&cookie15=WqG3DMC9VAQiUQ%3D%3D&cookie14=UoTaECEopKnjRA%3D%3D&tag=8&pas=0; uc3=vt3=F8dByuKxrb90QLLzLnQ%3D&id2=UU6lS5IHpNO1Zw%3D%3D&lg2=VT5L2FSpMGV7TQ%3D%3D&nk2=tzejKGxa%2FgjcE9Gg; _l_g_=Ug%3D%3D; unb=2646574036; cookie1=BxpRR3m3mq6u2SKR8tMIAV5PbfT0Mkqa7hIMcGbyJO8%3D; login=true; cookie17=UU6lS5IHpNO1Zw%3D%3D; _nk_=%5Cu846C%5Cu4EEA%5Cu4E3F%5Cu591C%5Cu795E%5Cu6708; sg=%E6%9C%886c; csg=4f4b3d78; tt=s.m.tmall.com; x5sec=7b22746d616c6c7365617263683b32223a226237336335663539373565306531643839656265336261653437313761326335434b3269682b774645504748317566333039323670774561444449324e4459314e7a51774d7a59374d513d3d227d; isg=BEVFsfe2tEVj9ZBnlNGGGm8PVIG_qvnGYNKYZEeqLXyL3mRQD1D9ZdO_7EKNpRFM; l=cBLiViNPqB8DGif1BOCZ5uI8aKbTRIRYjuPRwNvei_5CL6L1sbQOkswjLFp6cjWd9lYB4JuaUMv9-etkwRppO8_Tsszh.'
        }
url = 'https://list.tmall.com/m/search_items.htm?page_size=60&page_no=3&q=%C6%A1%BE%C6&type=p&searchType=default&sort=d'
response = requests.get(url, headers=headers)
print(response.text)
't=68aeed5a9ead7edb2d26b8d916cdf5be; UM_distinctid=16d399997a10-0f1d2a2d21e199-5373e62-100200-16d399997a231d; thw=cn; cna=l9oDFcy6VQ4CAd6AqijwI13O; miid=1478023730633735732; log=lty=Ug%3D%3D; lgc=%5Cu846C%5Cu4EEA%5Cu4E3F%5Cu591C%5Cu795E%5Cu6708; uc4=nk4=0%40tUQ6%2FECahntTXqHnI5ioot2jxOlREew%3D&id4=0%40U2xo%2B4EAVHijItFSb40x6HZvkQAW; tracknick=%5Cu846C%5Cu4EEA%5Cu4E3F%5Cu591C%5Cu795E%5Cu6708; lc=VyoFjLv40wbopTlWUKnWCD8%3D; _cc_=URm48syIZQ%3D%3D; lid=%E8%91%AC%E4%BB%AA%E4%B8%BF%E5%A4%9C%E7%A5%9E%E6%9C%88; tg=0; uc3=vt3=F8dByuKxrb90QLLzLnQ%3D&id2=UU6lS5IHpNO1Zw%3D%3D&lg2=VT5L2FSpMGV7TQ%3D%3D&nk2=tzejKGxa%2FgjcE9Gg; _m_h5_tk=5056160b93faa0c36fb80544ff2a66d0_1570592322312; _m_h5_tk_enc=91a5bc8fbca47192cecae8e825e2faf8; uc1=cookie14=UoTbnV5lIKj4Bg%3D%3D; mt=ci=-1_0; v=0; cookie2=16a74bb6e95d9ed7324d4b2abe9c20ce; _tb_token_=eedd3f39969fd; isg=BOPj1iWYulR8R3aq9BIeIEmJcidNcHdIkgj-whVAP8K5VAN2nagHasGGTmR_b88S; l=cBTAF1aPqiPlL5DsBOCanurza77OSIRYYuPzaNbMi_5KE6T_VzQOk9P0UF96VjWd9aTB4JuaUM29-etkZnuk19IpXUJ1.'